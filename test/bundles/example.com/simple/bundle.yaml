about:
    access: test
    footnote: This is a footnote
    grain: county
    groups:
    - Examples
    license: other-open
    processed: Packaged for [Ambry](http://ambry.io) by {{contact_bundle.creator.org}}
    rights: null
    source: '{{contact_source.creator.org}}'
    space: California
    subject: demo
    summary: This is a short summary of the data bundle, from {{contact_source.creator.org}}
    tags:
    - example
    - demo
    time: 2010
    title: Simple Example Bundle
contacts:
    creator:
        email: bob@bob.com
        name: Bob Bobson
        org: Example Com
        url: http://example.com
    analyst:
        org: Example Com
        url: http://example.com
#external_documentation:
#    main_site:
#        description: Main website for Example.com
#        source: null
#        title: Main Website
#        url: http://example.com/
identity:
    bspace: null
    btime: null
    dataset: simple
    id: d000simple
    revision: 3
    source: example.com
    subset: null
    type: null
    variation: null
    version: 0.1.3
names:
    fqname: example.com-simple-0.1.3~dfY0NJscai003
    name: example.com-simple
    vid: dfY0NJscai003
    vname: example.com-simple-0.1.3
build:
    key1: value1
    dict1:
        key1: value1
        key2: value2
        dict2:
            key1: value1
            key2: value2
            dict3:
                key1: value1
                key2: value2
dependencies: {}
requirements:
    xlrd: xlrd
pipelines:
    test:
        - PrintEvery(10)
    test2:
        - 'MatchPredicate(lambda r: r[2] == ''g'')'
        - 'Reduce(lambda a,r: (a[0]+r[0],a[1]+r[1]) if a else (r[0],r[1])  )'
    build:
        - MergeHeader
        - TypeIntuiter
        - MangleHeader
        - MapToSourceTable(error_on_fail = False)
        - CasterPipe
        - SelectPartition
        - WriteToPartition
    build2:
        first:
            - PrintRows
        body:
            - 'Add({
                ''year'' : lambda e,r: e.source.time,
                ''release'' : lambda e,r: str(e.source.grain) if e.source.grain else ''all''
                })'
            - MergeHeader
            - TypeIntuiter
            - MangleHeader
            - MapToSourceTable(error_on_fail = False)
            - CasterPipe
            - SelectPartition
        last:
            - PrintRows
        store:
            - WriteToPartition