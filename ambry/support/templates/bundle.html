{% extends "layout.html" %}
{% block title %}Bundle: {{m.about.title}}{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}
{% block masthead %}
    <h1 class="title">Bundle: {{m.about.title}}</h1>
    <p>{{b.identity.fqname}}</p>
    {% if m.about.summary -%}<p>{{m.about.summary}}</p>{% endif -%}
{% endblock %}

{% block body %}
<div>
    {% if documentation.main -%}
    <div class="documentation_section" >
    {{documentation.main}}
    </div>
    {% endif -%}
    {% include 'bundle/documentation.html' -%}
    <div>
        <h2>Tables</h2>
        <table class="table table-striped table-bordered table-condensed">
            <tr>
                <th>id</th>
                <th>Name</th>
                {% if w %}<th>Installed As</th>{% endif %}
                <th>Partitions</th>
                <th>Description</th>
            </tr>
            {% for t in b.schema.tables -%}
            <tr>
                <td><a href="{{root_path}}/doc/{{t.vid}}.html">{{t.vid}}</a></td>
                <td>{{t.name}}</td>
                <td>{% if w %}{{w.orm_table(t.vid).installed|default('', true)}}{% endif %}</td>
                <td>{% if t.partitions -%}
                    <ul>
                        {% for p in t.partitions -%}
                        <li><a href="{{root_path}}/doc/{{p.vid}}.html">{{p.name}}</a></li>
                        {% endfor %}
                    </ul>
                {% endif -%}</td>
                <td>{{t.description}}</td>
            </tr>
            {% endfor %}
        </table>
    </div>
    <div>
        <h2>Partitions</h2>
        <table class="table table-striped table-bordered table-condensed">
            <tr>
                <th>id</th>
                <th>Name</th>
                <th>Tables</th>
                {% if w %}<th>Installed</th>{% endif %}
            </tr>
            {% for p in b.partitions -%}
            <tr>
                <td><a href="{{root_path}}/doc/{{p.vid}}.html">{{p.vid}}</a></td>
                <td>{{p.name}}</td>
                <td>{% if p.tables -%}
                    <ul>
                        {% for t in p.tables -%}
                        <li>{{t}}</li>
                        {% endfor %}
                    </ul>
                {% endif -%}</td>

                <td>{{w.partition(p.vid).installed|default('')}}</td>

            </tr>
            {% endfor %}
        </table>
    </div>
    {% include 'bundle/contact.html' -%}
</div>




{% endblock %}

